all: mfem mfem.o 

.PHONY: mfem
mfem:
	cd mfem; make ROOT_PATH=${ROOT_PATH}
#	wget --no-check-certificate https://mfem.googlecode.com/files/mfem-2.0.tgz
#	tar -xf mfem-2.0.tgz
#	rm mfem-2.0.tgz
#	cd mfem-2.0; make ROOT_PATH=${ROOT_PATH}
#	mv mfem-2.0 mfem

mfem.o: mfem.C mfem.h ../../dbglog_internal.h mfem/mfem.hpp
	g++ mfem.C -c -I${ROOT_PATH} -Imfem -DROOT_PATH="\"${ROOT_PATH}\"" -DGDB_PORT=${GDB_PORT} -o mfem.o

clean:
	rm -fr meshFile2Socket
	cd mfem; make clean
	rm -f mfem.o

